<!--
  Copyright (C) 2022 The Infumap Authors
  This file is part of Infumap.

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as
  published by the Free Software Foundation, either version 3 of the
  License, or (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" type="image/ico" href="/src/assets/favicon.ico" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <link rel="apple-touch-icon" sizes="192x192" href="/src/assets/circle.png">
    <title>Add Note - Infumap</title>
  </head>
  <body>
    <div>Add Note</div>
    <div><textarea id="note" rows="6" cols="60"></textarea></div>
    <div><button onclick="submitNote()">submit</button></div>
  </body>
  <script>
    async function submitNote() {
      let jsonData = JSON.stringify({
        itemType: "note",
        title: document.getElementById("note").value,
        url: "",
        spatialWidthGr: 8 * 60,
      });
      await fetch("/command", {
        method: 'POST',
        headers: {
          'Accept': 'application/json',
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ command: "add-item", jsonData })
      });
    }
  </script>
</html>
